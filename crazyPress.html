


<!DOCTYPE HTML>
<html>
<head>
    <meta charset="utf-8">
    <title>打苍蝇</title>
    <meta name="viewport"
          content="width=device-width,initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no"/>
    <meta name="apple-mobile-web-app-capable" content="yes"/>

    <meta name="full-screen" content="true"/>
    <meta name="screen-orientation" content="portrait"/>
    <meta name="x5-fullscreen" content="true"/>
    <meta name="360-fullscreen" content="true"/>
    
    <style>
        body {
            text-align: center;
            background: #000000;
            padding: 0;
            border: 0;
            margin: 0;
            height: 100%;
        }

        * {
            -webkit-touch-callout:none;
            -webkit-user-select:none;
            -khtml-user-select:none;
            -moz-user-select:none;
            -ms-user-select:none;
            user-select:none;
            -webkit-tap-highlight-color:rgba(0,0,0,0);
        }

        html {
            -ms-touch-action: none; /* Direct all pointer events to JavaScript code. */
        }
        .button {
        display: inline-block;
        zoom: 1;
        vertical-align: baseline;
        margin: 0 2px;
        outline: none;
        cursor: pointer;
        text-align: center;
        text-decoration: none;
        font: 14px/100% Arial, Helvetica, sans-serif;
        padding: .5em 2em .55em;
        text-shadow: 0 1px 1px rgba(0,0,0,.3);
        -webkit-border-radius: .5em;
        -moz-border-radius: .5em;
        border-radius: .5em;
        -webkit-box-shadow: 0 1px 2px rgba(0,0,0,.2);
        -moz-box-shadow: 0 1px 2px rgba(0,0,0,.2);
        box-shadow: 0 1px 2px rgba(0,0,0,.2);
        }

        .red {
        color: #faddde;
        border: solid 1px #980c10;
        background: #d81b21;
        background: -webkit-gradient(linear, left top, left bottom, from(#ed1c24), to(#aa1317));
        background: -moz-linear-gradient(top, #ed1c24, #aa1317);
        filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#ed1c24', endColorstr='#aa1317');
        }

        .active {
            background: #d81b01;
        }

        .score-title {
            font-weight: bold;
            color: yellow;
        }

    </style>
</head>
<body>
<div style="display:inline-block;width:100%; height:100%;margin: 0 auto; background: black; position:relative;" id="gameDiv">
    <div style="text-align:center;margin:50px;">
        <span id="timer" style="color:#fff;font-size:20px;">10 秒</span>
    </div>
    <button id="button" class="button red" style="margin-top: 30px;width: 160px;height:160px;border-radius:80px;font-size:18px;font-weight:bold;">点我点我</button>
    <div style="margin:20px;text-align:center;margin-bottom:0">
        <div id="result" style="color:#fff;font-size:30px;">0 次</div>
        <div id="best" style="margin-top:20px;color:#fff;font-size:20px;"> </div>
    </div>
</div>

<div id="sbg" class="sbg">
    <div class="arron"></div>
    <p id="msg">请点击右上角<br />点击【分享到朋友圈】<br />测测好友的反应能力吧！</p>
</div>



//<script type="text/javascript" src="http://tajs.qq.com/stats?sId=35888230" charset="UTF-8"></script>
<script language=javascript>
        

        function getMsg(score) {

            if (score >= 900) {
                return msgs[msgs.length-1];
            }

            for( var i = 0; i < msgs.length; i++) {
                var msg = msgs[i];

                if (score < msg.score) {
                    return msg;
                }
            }
        }

        var helptime=0;
        function help(){
        }
        var msgs = [
            {
                score: 100,
                title: '',
                txt: "什么情况？手机坏了还是手指坏了？路还很远，加油。"
            },

            {
                score: 150,
                title: '',
                txt: "同学还需努力，胜利就在前方！(悄悄告诉你：可以用4个手指哦)"
            },

            {
                score: 200,
                title: "铁牌",
                txt: "哇塞，恭喜你获得<span class='score-title'>【打烧饼铁牌】</span>一枚 ，赶紧分享一下吧。"
            },

            {
                score: 250,
                title: "铜牌",
                txt: "哇塞塞，有几把刷子啊，恭喜你获得打烧饼<span class='score-title'>【打烧饼铜牌】</span>一枚 ，赶紧分享一下吧。"
            },

            {
                score: 300,
                title: "银牌",
                txt: "哇塞塞塞！，你这是有几把刷子啊？恭喜你获得<span class='score-title'>【打烧饼银牌】</span>一枚 ，赶紧分享一下吧。"
            },

            {
                score: 350,
                title: "金牌",
                txt: "了不得了，太赞了吧！隆重恭喜你获得<span class='score-title'>【打烧饼金牌】</span>一枚 ，赶紧分享一下吧。"
            },

            {
                score: 400,
                title: "黑金金牌",
                txt: "什么，你都超400了？隆重恭喜你获得<span class='score-title'>【打烧饼黑金金牌】</span>一枚 ，赶紧分享一下吧。"
            },

            {
                score: 500,
                title: "紫金金牌",
                txt: "可能吗，开发者都没有达到过啊？相当隆重地恭喜你获得<span class='score-title'>【打烧饼紫金金牌】</span>一枚 ，赶紧分享一下吧。"
            },

            {
                score: 600,
                title: "金钻",
                txt: "好吧，我承认你很牛，那简直是-太-牛-了-！相当隆重地恭喜你获得<span class='score-title'>【打烧饼金钻】</span>一枚 ，赶紧分享一下吧。"
            },

            {
                score: 700,
                title: "黑金金钻",
                txt: "我去，700多？我文案都还没想好呢啊，这可怎么是好！不过还是要超级隆重的恭喜你获得<span class='score-title'>【打烧饼黑金金钻】</span>一枚 ，赶紧分享一下吧。"
            },

            {
                score: 900,
                title: "紫金金钻",
                txt: "你确定你没有作弊？那你一定用了很多手指！超级隆重的恭喜你获得<span class='score-title'>【打烧饼紫金金钻】一枚 ，赶紧分享一下吧。"
            },

            {
                score: 1000,
                title: "癫疯狂人",
                txt: "恭喜你赢了！已经没有头衔能配得了你了！那就送给你一个<span class='score-title'>【打烧饼癫疯狂人】</span>称号一个！赶紧分享一下吧。"
            }
        ];


        var mebtnopenurl = 'http://endgame.duapp.com?from=click';
        var myscore=0;
        window.shareData = {
                "imgUrl": "http://www.umich.edu/~libe/shaobing.jpeg",
                "timeLineLink": "http://www.umich.edu/~libe/crazyPress.html",
                "tTitle": "打烧饼-根本停不下来，玩过之后我的手指已经不是我的了！",
                "tContent": "在10秒内疯狂打烧饼。"
        };
                
        function goHome(){
            window.location="http://www.umich.edu/~libe/";
        }
        function dp_share(score){
            if(score>0){

                var msg = getMsg(score);
                var msg2 = '';

                if (score >= 150 && score < 900) {
                    msg2 = "获得 " + msg.title + ' 1枚';
                }
                else if (score >= 900) {
                    msg2 = "获得 " + msg.title + ' 称号';
                }

                document.title = "10秒我能点"+score+"下！" + msg2 + " 你行？你试试"
            }
            else{
                document.title = "打烧饼-根本停不下来，玩过之后我的手指已经不是我的了！"
            }
            document.getElementById("share").style.display="";
            window.shareData.tTitle = document.title;
        }
        function dp_Ranking(){
            //window.location="http://huiyangche.duapp.com/game/games/click/index.html?from=click";
			window.location = "http://baidu.com";
        }

        function showAd(){
        }
        function hideAd(){
        }
        document.addEventListener('WeixinJSBridgeReady', function onBridgeReady() {
            
            WeixinJSBridge.on('menu:share:appmessage', function(argv) {
                WeixinJSBridge.invoke('sendAppMessage', {
                    "img_url": window.shareData.imgUrl,
                    "link": window.shareData.timeLineLink,
                    "desc": window.shareData.tContent,
                    "title": window.shareData.tTitle
                }, onShareComplete);
            });

            WeixinJSBridge.on('menu:share:timeline', function(argv) {
                WeixinJSBridge.invoke('shareTimeline', {
                    "img_url": window.shareData.imgUrl,
                    "img_width": "640",
                    "img_height": "640",
                    "link": window.shareData.timeLineLink,
                    "desc": window.shareData.tContent,
                    "title": window.shareData.tTitle
                }, onShareComplete);
            });
        }, false);
        </script>
        <div id=share style="display: none">
            <img width=100% src="share.png" style="position: fixed;z-index:9999; top: 0; left: 0; display: " ontouchstart="document.getElementById('share').style.display='none';">
        </div>
        <div id="result_panel" style="display:none;text-align:center;padding-top:50px;position:absolute;top:0;right:0;bottom:0;left:0;background-color:rgba(0,0,0,0.8)">
            <div><button id="reset" style="font-size:25px">再玩一次</button><br><button id="doShare" style="font-size:25px">炫耀一下</button></div>

            <div id="scoreMsg" style="padding:15px;color:#aaa;">

            </div>

            <!-- <a id="ads" href="tj.html?url=http%3A%2F%2Fwww.nvshengmimi.com%2Fs%2Fs%2Fmob%3Fid%3D5%26ref%3Dwxgame" style="width: 100%; height: 50px; position:absolute;left:0;bottom:0;background:url(http://bimg.shouyoutu.com/ac2484dabf9abe70.jpg) no-repeat center center;background-size:cover;"> </a>-->
            
        </div>
        <script src="http://libs.baidu.com/jquery/1.10.2/jquery.min.js"></script>
        //click listener
        <div style="display: none;">
            <script type="text/javascript">
            function dp_submitScore(score){

                dp_share(score);

                /*
                if(score<40){
                    if (confirm("")){
                        myCRdata.score = score;
                        myCRdata.scoreName = score+"步";
                        dp_share(score);
                    }
                }
                */
            }
            function onShareComplete(res) {
                    document.location.href = mebtnopenurl;
            }
            </script>

            <script type="text/javascript">
                    var initial = 1000;
                    var count = initial;
                    var counter; //10 will  run it every 100th of a second
                    var state = 0;
                    var total = 0;

                    if (localStorage.max) {
                        $('#best').html( '最好成绩：' + localStorage.max + ' 次');
                    }

                    function timer() {
                        if (count <= 0) {
                            clearInterval(counter);
                            state = 0;

                            var msg = getMsg(total);
                            $('#scoreMsg').html(msg.txt);

                            $('#result_panel').show();

                            if ( !localStorage.max || parseInt(localStorage.max) < total) {
                                localStorage.max = total;
                                $('#best').html( '最好成绩：' + localStorage.max + ' 次');
                            }

                            localStorage.max = parseInt(localStorage.max) > total ? localStorage.max: total;
                            return;
                        }
                        count--;
                        displayCount(count);
                    }

                    function displayCount(count) {
                        var res = count / 100;
                        document.getElementById("timer").innerHTML = res.toPrecision(count.toString().length) + " 秒";
                    }

                    $(document).on('touchmove', function(e) {
                        e.preventDefault();
                    })

                    $('#button').on('touchstart', function () {

                        if (!state) {
                            state = 1;
                            counter = setInterval(timer, 10);
                        }

                        this.classList.add('active');
                    });

                    $('#button').on('touchend', function () {
                        if (state) {
                            total++;
                            $('#result').html(total + ' 次');
                        }
                        this.classList.remove('active');
                    });

                    // $('#stop').on('click', function () {
                    //     clearInterval(counter);
                    // });

                    function reset() {
                        count = initial;
                        total = 0;
                        state = 0;
                        $('#result').html(total + ' 次');
                        $('#timer').html(10 + ' 秒');
                    }

                    $('#reset').on('touchend', function () {
                        reset();
                        $('#result_panel').hide();
                    });

                    $('#doShare').on('touchend', function () {
                        dp_share(total);
                        $('#result_panel').hide();
                        reset();
                    });


                    displayCount(initial);
            </script>
        </div>
<scritp>
<!-- document.getElementById("ads").style.display='inline-block'; -->
</script>


</body>
</html>